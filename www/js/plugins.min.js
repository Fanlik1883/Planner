/* Ephox Fluffy plugin
 *
 * Copyright 2010-2016 Ephox Corporation.  All rights reserved.
 *
 * Version: 2.8.0-17
 */

!function(){"use strict";function n(r){return function(n){return t=typeof(n=n),(null===n?"null":"object"==t&&(Array.prototype.isPrototypeOf(n)||n.constructor&&"Array"===n.constructor.name)?"array":"object"==t&&(String.prototype.isPrototypeOf(n)||n.constructor&&"String"===n.constructor.name)?"string":t)===r;var t}}function t(n,t){return{isRequired:n,applyPatch:t}}function u(e,i){return function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var r=i.apply(this,n),r=v(r)?n:r;return e.apply(this,r)}}function r(){return p}function o(n,t){for(var r=0,e=n.length;r<e;r++)t(n[r],r)}function e(n,t){for(var r=function(n,t){for(var r=n.length,e=new Array(r),i=0;i<r;i++){var o=n[i];e[i]=t(o,i)}return e}(n,t),e=[],i=0,o=r.length;i<o;++i){if(!g(r[i]))throw new Error("Arr.flatten item "+i+" was not an array, input: "+r);w.apply(e,r[i])}return e}function a(r){return function(n,t){r[t]=n}}function i(c){return function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];if(0===n.length)throw new Error("Can't merge zero objects");for(var r,e,i={},o=0;o<n.length;o++){var u,a=n[o];for(u in a)r=a,e=u,U.call(r,e)&&(i[u]=c(i[u],a[u]))}return i}}function c(n){var t;return null!=(t=n.defaultOptions)?t:n.defaultSettings}function f(n,t){var n=x(n,t),r=M(t.plugins),e=n.custom_plugin_urls||{},e=k(e,function(n,t){return L(r,t)}),n=n.external_plugins||{},i={},e=(E(e.t,function(n,t){i[t]=n}),A(i,n)),n=0===b(e).length?{}:{external_plugins:e};return A(t,n)}var l,s,p,d=n("object"),g=n("array"),v=(l=void 0,function(n){return l===n}),y=(s="function",function(n){return typeof n===s}),m="undefined"!=typeof window?window:Function("return this;")(),h=(p=!0,Array.prototype.indexOf),w=Array.prototype.push,L=function(n,t){return-1<h.call(n,t)},b=Object.keys,U=Object.hasOwnProperty,E=function(n,t){for(var r=b(n),e=0,i=r.length;e<i;e++){var o=r[e];t(n[o],o)}},k=function(n,t){var r,e,i,o={},u={};return r=t,e=a(o),i=a(u),E(n,function(n,t){(r(n,t)?e:i)(n,t)}),{t:o,f:u}},x=i(function(n,t){return d(n)&&d(t)?x(n,t):t}),A=i(function(n,t){return t}),M=function(n){if(v(n)||""===n)return[];n=g(n)?e(n,function(n){return n.split(/[\s+,]/)}):n.split(/[\s+,]/);return e(n,function(n){return 0<n.length?[n.trim()]:[]})},q=t(r,function(r){var n=r.EditorManager;n.init=u(n.init,function(n){return[f(c(r),n)]}),n.createEditor=u(n.createEditor,function(n,t){return[n,f(c(r),t)]})});function j(n,t,r){if(r||2===arguments.length)for(var e,i=0,o=t.length;i<o;i++)!e&&i in t||((e=e||Array.prototype.slice.call(t,0,i))[i]=t[i]);return n.concat(e||Array.prototype.slice.call(t))}function S(n){return parseInt(n,10)}function I(n,t){return 0==(n-=t)?0:0<n?1:-1}function _(n,t,r){return{major:n,minor:t,patch:r}}function O(e,i){return function(n){var t=M(n.plugins),r=$(i),r=0<r.length?t.concat(r):t;return[e.util.Tools.extend({},n,{plugins:r})]}}function N(n,t){D(t,".tox-notifications-container","block"),T(n,"6.0.0")&&D(t,".tox-notification","-ms-grid"),D(t,".tox-notification","grid"),D(t,".mce-notification","block")}function R(){return(new Date).getTime()}function V(r){return function(){n="position";var n,t=(((t=r).currentStyle||window.getComputedStyle(t,null))[n]||"").toLowerCase();return"absolute"===t||"fixed"===t}}function C(n){n.parentNode.removeChild(n)}function z(n){var t=n,r=[H,W,X,G,q];if(t)for(var e=0;e<r.length;e++)r[e].isRequired(t)&&r[e].applyPatch(t)}var P=function(n){n=/([0-9]+)\.([0-9]+)\.([0-9]+)(?:(\-.+)?)/.exec(n);return n?_(S(n[1]),S(n[2]),S(n[3])):_(0,0,0)},B=function(n,t){var r=I(n.major,t.major);if(0!==r)return r;r=I(n.minor,t.minor);if(0!==r)return r;r=I(n.patch,t.patch);return 0!==r?r:0},F=function(n){return P([n.majorVersion,n.minorVersion].join(".").split(".").slice(0,3).join("."))},T=function(n,t){return!!n&&-1===B(F(n),P(t))},$=function(n){n=c(n).forced_plugins;return n||[]},G=t(function(n){return T(n,"4.7.0")},function(n){var r=n,e=r.EditorManager;e.init=u(e.init,O(r,e)),e.createEditor=u(e.createEditor,function(n,t){return j([n],O(r,e)(t),!0)})}),D=function(e,n,i){n=document.querySelectorAll(n);o(n,function(n){var t,r;"none"===window.getComputedStyle(n).display&&(r=n.style.cssText,t="display:".concat(i," !important;"),n.style.cssText=r?"".concat(r,";").concat(t):t,(n=e).theme&&n.notificationManager&&(r=n.notificationManager.getNotifications(),y(n.theme.getNotificationManagerImpl)&&y(n.theme.getNotificationManagerImpl().reposition)&&n.theme.getNotificationManagerImpl().reposition(r),o(r,function(n){y(n.reposition)&&n.reposition()})))})},H=t(function(n){return!0},function(r){T(r,"5.6.0")?r.on("AddEditor",function(n){var t=n.editor;t.on("SkinLoaded",function(){setTimeout(function(){t.removed||N(r,t)},0)})}):r.on("AddEditor",function(n){var t=n.editor;t.on("OpenNotification",function(){N(r,t)})})}),J=function(n,t,r,e,i){var o=R(),u=setInterval(function(){n()&&(clearInterval(u),t()),R()-o>i&&(clearInterval(u),r())},e)},K=function(n,t){(r=document.createElement("div")).style.display="none",r.className="mce-floatpanel";var r,e=r;document.body.appendChild(e),J(V(e),function(){C(e),n()},function(){C(e),t()},10,5e3)},Q=function(n,t){n.notificationManager?n.notificationManager.open({text:t,type:"warning",timeout:0,icon:""}):n.windowManager.alert(t)},W=t(function(n){return"function"!=typeof n.overrideDefaults},function(n){var t,e,r=n,i=r.EditorManager,o=(r.EditorManager.on("AddEditor",function(n){var t=n.editor,r=t.settings.service_message;r&&K(function(){Q(t,r)},function(){window.alert(r)})}),t=r,function(n){return[t.util.Tools.extend({},this.defaultSettings,n)]});n.overrideDefaults=(e=r,function(n){var t=e.util.URI,r=n.base_url,r=(r&&(this.baseURL=new t(this.documentBaseURL).toAbsolute(r.replace(/\/+$/,"")),this.baseURI=new t(this.baseURL)),n.suffix);r&&(this.suffix=r),this.defaultSettings=n}),i.init=u(i.init,o),i.createEditor=u(i.createEditor,function(n,t){return j([n],o.call(i,t),!0)})}),X=t(function(n){return T(n,"4.5.0")},function(n){var e;n.overrideDefaults=u(n.overrideDefaults,(e=n,function(n){var t,r=n.plugin_base_urls;for(t in r)e.PluginManager.urls[t]=r[t]}))});z(m.tinymce)}();

(function(cloudSettings) {
		var entryUrl =
				document.currentScript != null &&
				typeof document.currentScript.src === "string"
						? document.currentScript.src
						: null;
		cloudSettings["tiny_cloud_entry_url"] = entryUrl;
		tinymce.overrideDefaults(cloudSettings);
})({"rtc_tenant_id":"no-origin","editimage_api_key":"no-origin","imagetools_proxy":"https://imageproxy.tiny.cloud/2/image","autocorrect_service_url":"https://spelling.tiny.cloud","suffix":".min","linkchecker_service_url":"https://hyperlinking.tiny.cloud","spellchecker_rpc_url":"https://spelling.tiny.cloud","spellchecker_api_key":"no-origin","tinydrive_service_url":"https://catalog.tiny.cloud","api_key":"no-origin","imagetools_api_key":"no-origin","tinydrive_api_key":"no-origin","export_image_proxy_service_url":"https://imageproxy.tiny.cloud","forced_plugins":["chiffer"],"referrer_policy":"origin","custom_plugin_urls":{"export":"https://cdn.tiny.cloud/1/no-origin/tinymce/6.8.2-45/plugins/export/plugin.min.js","powerpaste":"https://cdn.tiny.cloud/1/no-origin/tinymce/6.8.2-45/plugins/powerpaste/plugin.min.js","typography":"https://cdn.tiny.cloud/1/no-origin/tinymce/6.8.2-45/plugins/typography/plugin.min.js","grammar":"https://cdn.tiny.cloud/1/no-origin/tinymce/6.8.2-45/plugins/grammar/plugin.min.js","casechange":"https://cdn.tiny.cloud/1/no-origin/tinymce/6.8.2-45/plugins/casechange/plugin.min.js","tableofcontents":"https://cdn.tiny.cloud/1/no-origin/tinymce/6.8.2-45/plugins/tableofcontents/plugin.min.js","advtable":"https://cdn.tiny.cloud/1/no-origin/tinymce/6.8.2-45/plugins/advtable/plugin.min.js","ai":"https://cdn.tiny.cloud/1/no-origin/tinymce/6.8.2-45/plugins/ai/plugin.min.js","advtemplate":"https://cdn.tiny.cloud/1/no-origin/tinymce/6.8.2-45/plugins/advtemplate/plugin.min.js","editimage":"https://cdn.tiny.cloud/1/no-origin/tinymce/6.8.2-45/plugins/editimage/plugin.min.js","tinymcespellchecker":"https://cdn.tiny.cloud/1/no-origin/tinymce/6.8.2-45/plugins/tinymcespellchecker/plugin.min.js","mergetags":"https://cdn.tiny.cloud/1/no-origin/tinymce/6.8.2-45/plugins/mergetags/plugin.min.js","autocorrect":"https://cdn.tiny.cloud/1/no-origin/tinymce/6.8.2-45/plugins/autocorrect/plugin.min.js","linkchecker":"https://cdn.tiny.cloud/1/no-origin/tinymce/6.8.2-45/plugins/linkchecker/plugin.min.js","checklist":"https://cdn.tiny.cloud/1/no-origin/tinymce/6.8.2-45/plugins/checklist/plugin.min.js","mediaembed":"https://cdn.tiny.cloud/1/no-origin/tinymce/6.8.2-45/plugins/mediaembed/plugin.min.js","inlinecss":"https://cdn.tiny.cloud/1/no-origin/tinymce/6.8.2-45/plugins/inlinecss/plugin.min.js","tinycomments":"https://cdn.tiny.cloud/1/no-origin/tinymce/6.8.2-45/plugins/tinycomments/plugin.min.js","rtc":"https://cdn.tiny.cloud/1/no-origin/tinymce/6.8.2-45/plugins/rtc/plugin.min.js","pageembed":"https://cdn.tiny.cloud/1/no-origin/tinymce/6.8.2-45/plugins/pageembed/plugin.min.js","extractions":"https://cdn.tiny.cloud/1/no-origin/tinymce/6.8.2-45/plugins/extractions/plugin.min.js","tinydrive":"https://cdn.tiny.cloud/1/no-origin/tinymce/6.8.2-45/plugins/tinydrive/plugin.min.js","advcode":"https://cdn.tiny.cloud/1/no-origin/tinymce/6.8.2-45/plugins/advcode/plugin.min.js","formatpainter":"https://cdn.tiny.cloud/1/no-origin/tinymce/6.8.2-45/plugins/formatpainter/plugin.min.js","permanentpen":"https://cdn.tiny.cloud/1/no-origin/tinymce/6.8.2-45/plugins/permanentpen/plugin.min.js","a11ychecker":"https://cdn.tiny.cloud/1/no-origin/tinymce/6.8.2-45/plugins/a11ychecker/plugin.min.js","footnotes":"https://cdn.tiny.cloud/1/no-origin/tinymce/6.8.2-45/plugins/footnotes/plugin.min.js","mentions":"https://cdn.tiny.cloud/1/no-origin/tinymce/6.8.2-45/plugins/mentions/plugin.min.js"},"chiffer_snowplow_service_url":"https://sp.tinymce.com/i","mediaembed_api_key":"no-origin","promotion":false,"rtc_service_url":"https://rtc.tiny.cloud","editimage_proxy_service_url":"https://imageproxy.tiny.cloud","linkchecker_api_key":"no-origin","chiffer_cdp_init_service_url":"https://cdn.tiny.cloud/1/no-origin/tinymce/6.8.2-45/cdn-init","mediaembed_service_url":"https://hyperlinking.tiny.cloud","service_message":"\u003cspan style=\"display: block\"\u003eWe’re unable to check your domain because the referer header is missing.\u003c/span\u003e\n\u003cspan style=\"display: block\"\u003ePlease read the\n\u003ca target=\"_blank\" href=\"https://www.tiny.cloud/docs/tinymce/6/cloud-troubleshooting/\"\u003eGuide\u003c/a\u003e\non how to ensure your referer header is present, so we can then customize your editor experience.\n\u003cimg alt=\"\" loading=\"lazy\" src=\"https://sp.tinymce.com/i?aid=no-origin\u0026amp;e=se\u0026amp;se_ca=notification_displayed\" style=\"display: inline\"\u003e\n\u003c/span\u003e\n"});

/*!
 * Tiny Chiffer plugin
 *
 * Copyright (c) 2023 Ephox Corporation DBA Tiny Technologies, Inc.
 * Licensed under the Tiny commercial license. See https://www.tiny.cloud/legal/
 *
 * Version: 3.1.0-23
 */
!function(){"use strict";function e(t){return function(e){return n=typeof(e=e),(null===e?"null":"object"==n&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"==n&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":n)===t;var n}}function n(n){return function(e){return typeof e===n}}function a(e){return!(null==e)}function o(){}function i(e){return function(){return e}}function t(e){return e}var r,s=e("string"),u=e("object"),c=n("boolean"),l=function(e){return r===e},f=n("function"),C=n("number"),d=i(!1),m=i(!(r=void 0)),p=function(){return(p=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)};function g(e,n,t){if(t||2===arguments.length)for(var r,o=0,i=n.length;o<i;o++)!r&&o in n||((r=r||Array.prototype.slice.call(n,0,o))[o]=n[o]);return e.concat(r||Array.prototype.slice.call(n))}function v(){return y}var F=function(e){var e=e.chiffer_cdp_init_service_url,n=tinymce.baseURI;return s(e)?e:n.toAbsolute("cdn-init")},y={fold:function(e,n){return e()},isSome:d,isNone:m,getOr:t,getOrThunk:h,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:i(null),getOrUndefined:i(void 0),or:t,orThunk:h,map:v,each:o,bind:v,exists:d,forall:m,filter:function(){return y},toArray:function(){return[]},toString:i("none()")};function h(e){return e()}function b(t){function e(){return o}function n(e){return e(t)}var r=i(t),o={fold:function(e,n){return n(t)},isSome:m,isNone:d,getOr:r,getOrThunk:r,getOrDie:r,getOrNull:r,getOrUndefined:r,or:e,orThunk:e,map:function(e){return b(e(t))},each:function(e){e(t)},bind:n,exists:n,forall:n,filter:function(e){return e(t)?o:y},toArray:function(){return[t]},toString:function(){return"some("+t+")"}};return o}function N(e,t,r,o){for(var n=e,i=function(e,n){(t(e,n)?r:o)(e,n)},c=R(n),a=0,u=c.length;a<u;a++){var s=c[a];i(n[s],s)}}function _(e,n){var t,r={};return N(e,n,(t=r,function(e,n){t[n]=e}),o),r}function z(){return(new Date).getTime()}function w(e){return parseInt(e,10)}function L(e,n,t){return{major:e,minor:n,patch:t}}function M(e){return se(e.editorManager)}function H(e,n){return-1<fe.call(e,n)}function S(i,c){return function(e){var n=e.options,t=c.processor,r=c.legacyProcessor,o=c.defaultValue;return(a(n)?(n.isSet(i)?T.from(n.get(i)):T.none()).bind(t):r(e.getParam(i))).getOr(o)}}function K(e){return ge(e,"/")}function J(n){return function(e){return n(e)?T.some(e):T.none()}}function k(e){return E(e).filter((n=K,function(e){return!n(e)}));var n}function O(e){return s(e)?T.some(e):c(e)||C(e)?T.some(e.toString()):T.none()}function W(e){return e=e.plugins,e=_(e,function(e,n){var t=H(me,n),e=!!e.isStub;return!!n&&!e&&!("chiffer"===n)&&t}),0<(e=R(e)).length?e:void 0}function Z(e){var n,t,r=tinymce.Env,o=ue(),i="unknown",r=(u(r.os)&&(n={name:r.os.current||i,version:null==(n=r.os.version)?void 0:n.major.toString()}),u(r.os)&&(t={name:r.browser.current||i,version:null==(i=r.browser.version)?void 0:i.major.toString()}),null==o?void 0:o.timeZone),i=null==o?void 0:o.locale,o={width:window.innerWidth,height:window.innerHeight,density:window.devicePixelRatio},c=navigator.userAgent,a=function(){var e;try{return null==(e=navigator.userAgentData)?void 0:e.toJSON()}catch(e){}}();return p(p({},e),{browser:t,os:n,timezone:r,locale:i,screen:o,userAgent:c,userAgentData:a})}function q(e,n){var t=function(e){e=M(e);return"".concat(e.major,".").concat(e.minor,".").concat(e.patch)}(e),r=pe.getIdForEditor(e);return{apiKey:n.apiKey,pageId:n.pageId,editorId:r,editorVersion:t,editorOptions:function(e){var n,t,r,o,i,c,a,u,s,l,f;if(!le(e))return n=ve(e),t=Se(e),r=ye(e),o=he(e),i=be(e),c=we(e),a=_e(e),u=Pe(e),s=ke(e),l=Oe(e),f=Ie(e),{plugins:W(e),icons:i,inline:n,language:t,readonly:r,resize:o,skin:c,theme:a,height:u,toolbarMode:s,toolbarLocation:l,uiMode:f}}(e)}}function B(e){return"plugin_".concat(e,"_loaded")}var G,Q,I,X,P,Y,$,ee,j,ne,x,A,T={some:b,none:v,from:function(e){return null==e?y:b(e)}},D=function(){for(var e=[],n=0;n<256;n++)e.push((n+256).toString(16).substring(1));return e}(),te=T.from(window.crypto),re=function(){return te.bind(function(e){return f(e.randomUUID)?T.some(e.randomUUID()):T.none()})},oe=function(){return n=new Uint8Array(16),te.bind(function(e){return f(e.getRandomValues)?T.some(e.getRandomValues(n)):T.none()}).map(function(e){for(var n="",t=0;t<16;t++){var r=e[t];n+=6===t?D[15&r|64]:8===t?D[63&r|128]:D[r],3!==t&&5!==t&&7!==t&&9!==t||(n+="-")}return n});var n},ie="00000000-0000-0000-0000-000000000000",ce=function(){return re().orThunk(oe)},R=Object.keys,ae=Object.hasOwnProperty,U=function(e,n){return ae.call(e,n)},ue=(I=!(G=function(){if(a(Intl))return Intl.DateTimeFormat().resolvedOptions()}),function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return I||(I=!0,Q=G.apply(null,e)),Q}),se=function(e){e=[e.majorVersion,e.minorVersion].join(".").split(".").slice(0,3).join(".");return(e=/([0-9]+)\.([0-9]+)\.([0-9]+)(?:(\-.+)?)/.exec(e))?L(w(e[1]),w(e[2]),w(e[3])):L(0,0,0)},le=(X=4,function(e){return M(e).major===X}),fe=Array.prototype.indexOf,de=function(e,n){for(var t=0,r=e.length;t<r;t++)n(e[t],t)},me=g(g([],["accordion","advlist","anchor","autolink","autoresize","autosave","bbcode","charmap","code","codesample","colorpicker","compat3x","contextmenu","directionality","emoticons","fullpage","fullscreen","help","hr","image","imagetools","importcss","insertdatetime","legacyoutput","link","lists","media","nonbreaking","noneditable","pagebreak","paste","preview","print","quickbars","save","searchreplace","spellchecker","tabfocus","table","template","textcolor","textpattern","toc","visualblocks","visualchars","wordcount"],!0),["a11ychecker","advcode","advtable","advtemplate","ai","autocorrect","casechange","checklist","editimage","export","footnotes","formatpainter","inlinecss","linkchecker","mediaembed","mentions","mergetags","pageembed","permanentpen","powerpaste","rtc","tableofcontents","tinycomments","tinydrive","tinymcespellchecker","typography"],!0),pe=(P=new WeakMap,{getIdForEditor:function(n){return T.from(P.get(n)).getOrThunk(function(){var e=ce().getOr(ie);return P.set(n,e),e})}}),ge=function(e,n){return-1!==e.indexOf(n)},E=J(s),V=J(c),ve=S("inline",{processor:T.some,legacyProcessor:V}),ye=S("readonly",{processor:T.some,legacyProcessor:V}),he=S("resize",{processor:O,legacyProcessor:O}),be=S("icons",{processor:k,legacyProcessor:k}),_e=S("theme",{processor:k,legacyProcessor:k}),we=S("skin",{processor:k,legacyProcessor:k}),Se=S("language",{processor:k,legacyProcessor:k}),ke=S("toolbar_mode",{processor:T.some,legacyProcessor:E}),Oe=S("toolbar_location",{processor:E,legacyProcessor:E}),Ie=S("ui_mode",{processor:E,legacyProcessor:T.none}),Pe=S("height",{processor:O,legacyProcessor:O}),je=function(e,n){if(f(window.fetch))try{var t={method:"POST",mode:"cors",headers:new window.Headers({"Content-Type":"application/json"}),body:JSON.stringify(n),keepalive:!0};window.fetch(e,t).then(o,o)}catch(e){}},xe={direct:!1,library:{name:"chiffer",version:"3.1.0-23"}},Ae=function(e,n){var t=Z(xe),e=q(e,n);return{anonymousId:n.pageId,event:"editor_init",context:t,properties:e}},Te={mceInsertToc:"toc_insert",mceUpdateToc:"toc_update"},De={mceEditImage:"imagetools_open_dialog",mceImageRotateLeft:"imagetools_rotate",mceImageRotateRight:"imagetools_rotate",mceImageFlipVertical:"imagetools_flip",mceImageFlipHorizontal:"imagetools_flip"},Re={InsertUnorderedList:!0,InsertOrderedList:!0},Ue={mceInsertTemplate:"template_insert",mceInsertDate:"insertdatetime_insert",mceInsertTime:"insertdatetime_insert",mcePreview:"preview_open_dialog",mceAnchor:"anchor_open_dialog"},Ee=function(e){if(a(e.value)&&U(e.value,"list-style-type"))return e=e.value["list-style-type"],"advlist_".concat(""===e?"default":e)},Ve=["a11ychecker","advcode","advtable","autocorrect","casechange","checklist","editimage","export","footnotes","formatpainter","inlinecss","linkchecker","mediaembed","mentions","mergetags","pageembed","permanentpen","powerpaste","rtc","tableofcontents","tinycomments","tinydrive","tinymcespellchecker","typography"],Ce=function(e){for(var e=_(e,function(e,n){e=!!e.isStub;return!!n&&!e&&H(Ve,n)}),n=R(e),t=B,r=n.length,o=new Array(r),i=0;i<r;i++){var c=n[i];o[i]=t(c,i)}return o},Fe=function(a,u){return{send:function(e,n,t){var r,o=a,i=z(),c="undefined"!=typeof Intl?encodeURIComponent(Intl.DateTimeFormat().resolvedOptions().timeZone):"N%2FA",o="?aid=".concat(o,"&tna=").concat("tinymce_cloud","&p=").concat("web","&dtm=").concat(n,"&stm=").concat(i,"&tz=").concat(c,"&e=").concat("se","&se_ca=").concat(e),n=function(e){e=e.chiffer_snowplow_service_url;return s(e)?e:void 0}(u);s(n)?((r=document.createElement("img")).src=n+o,r.onload=(i=function(e){return function(){r.onload=null,r.onerror=null,t(e)}})(!0),r.onerror=i(!1)):t(!1)}}},Ne=function(n){return{sendStat:function(e){n.send(e,z(),o)}}};V={load:o},A=null!=(A=tinymce.defaultOptions)?A:tinymce.defaultSettings,x=function(e){e=e.api_key;return s(e)?e:void 0}(A=p({},A)),A=l(x)?V:(j=function(e,n){e=Fe(e,n);return Ne(e)}(V=x,x=A),Y=V,$=x,ee=ce().getOr(ie),ne={sendInit:function(e){var n=F($),e=Ae(e,{apiKey:Y,pageId:ee});je(n,e)}},j.sendStat("script_load"),{load:function(t){t.once("init",function(){return j.sendStat("init")}),t.once("init",function(){return ne.sendInit(t)}),t.once("focus",function(){return j.sendStat("focus")}),t.on("ExportPdf",function(){return j.sendStat("export_pdf")}),t.on("InlineCSS",function(){return j.sendStat("inlinecss_get_content")}),t.on("PastePreProcess PowerPasteTempStats",function(e){e=e.source;a(e)&&j.sendStat("powerpaste_".concat(e))}),t.on("VisualChars",function(e){!0===e.state&&j.sendStat("visualchars_true")}),t.on("RtcSessionConnected",function(e){var n=e.time;switch(n){case 0:j.sendStat("rtc_started");break;case 5:case 10:case 20:j.sendStat("rtc_connected_".concat(n,"min"))}}),t.on("RtcSessionError",function(){return j.sendStat("rtc_error")}),t.on("RtcSessionDirty",function(){return j.sendStat("rtc_edited")}),t.on("SpellcheckerLanguageChanged",function(e){e=e.language;j.sendStat("spellcheckerpro_language_changed_".concat(e))}),t.on("ExecCommand",function(e){n=(e=e).command;var n,e=U(Re,n)?Ee(e):U(De,n)?De[n]:U(Te,n)?Te[n]:U(Ue,n)?Ue[n]:void 0;l(e)||j.sendStat(e)}),t.on("PreInit",function(){var e=j,n=t.plugins;n=Ce(n),de(n,e.sendStat)})}}),tinymce.PluginManager.add("chiffer",A.load)}();

